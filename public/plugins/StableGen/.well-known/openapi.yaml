openapi: 3.0.2
info:
  title: StableGen Plugin
  description: Plugin allows a user to generate images using a stable diffusion model. The user just needs to specify which model to use.
  author: Tech in School Initiative
  version: 1.0.0
  servers:
    - url: https://stable-gen-next-js.vercel.app/api

paths:
  /generateImage:
    post:
      summary: Generate Image
      description: Generates Image given the prompt
      operationId: gen-image
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenImageParameters'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryResponse'
        '429':
          description: Rate Limit Exceeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'

components:
  schemas:
    GenImageParameters:
      title: GenImageParameters
      required:
        - prompt
      type: object
      properties:
        prompt:
          type: string
        upscale:
          type: boolean
          default: true
        aspect_ration:
          type: string
          enum:
            - square
            - portrait
            - landscape
          default: square
        sampler:
          type: string
          enum:
            - DDIM
            - Heun
            - Euler
            - Euler a
            - DPM++ 2M Karras
          default: DDIM
        model:
          type: string
          enum:
            - analog-diffusion-1.0.ckpt [9ca13f02]
            - anythingv3_0-pruned.ckpt [2700c435]
            - anything-v4.5-pruned.ckpt [65745d25]
            - anythingV5_PrtRE.safetensors [893e49b9]
            - AOM3A3_orangemixs.safetensors [9600da17]
            - deliberate_v2.safetensors [10ec4b29]
            - dreamlike-diffusion-1.0.safetensors [5c9fd6e0]
            - dreamlike-diffusion-2.0.safetensors [fdcf65e7]
            - dreamshaper_5BakedVae.safetensors [a3fbf318]
            - dreamshaper_6BakedVae.safetensors [114c8abb]
            - elldreths-vivid-mix.safetensors [342d9d26]
            - lyriel_v15.safetensors [65d547c5]
            - meinamix_meinaV9.safetensors [2ec66ab0]
            - openjourney_V4.ckpt [ca2f377f]
            - portrait+1.0.safetensors [1400e684]
            - Realistic_Vision_V2.0.safetensors [79587710]
            - revAnimated_v122.safetensors [3f4fefd9]
            - sdv1_4.ckpt [7460a6fa]
            - v1-5-pruned-emaonly.ckpt [81761151]
            - shoninsBeautiful_v10.safetensors [25d8c546]
            - theallys-mix-ii-churned.safetensors [5d9225a4]
            - timeless-1.0.ckpt [7c4971d4]'
          default: dreamlike-diffusion-2.0.safetensors [fdcf65e7]
        steps:
          type: integer
          minimum: 1
          maximum: 50
          default: 10
